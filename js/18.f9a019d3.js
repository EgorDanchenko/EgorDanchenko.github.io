"use strict";(self["webpackChunkenglish"]=self["webpackChunkenglish"]||[]).push([[18],{2287:function(e,a,l){l.r(a),l.d(a,{default:function(){return Y}});var n=l(6646),t=l(2237),s=l(7636),u=l(2610),r=l(4409),o=l(7071);function i(e){return["word","subsection_id","content","translations"].every((a=>a in e))}const d=i;function c(e){return["translation","word_id"].every((a=>a in e))}const v=c;var w=(0,n.aZ)({__name:"FindAnswer",props:{words:{},cursor:{},mode:{}},emits:["answer"],setup(e,{expose:a,emit:l}){const i=e,c=(0,o.o)(),w=(0,n.iH)(0),m=(0,n.Fl)((()=>i.words)),p=(0,n.Fl)((()=>i.words[i.cursor])),f=(0,n.Fl)((()=>"FindWord"===i.mode?(0,r.sample)(p.value.translations).translation:"FindTranslation"===i.mode?p.value.word:"audio")),g=(0,n.Fl)((()=>{const e=c.getRandomWords(m.value,2,[p.value]);return"FindWord"===i.mode?(0,r.uniq)((0,r.shuffle)(e)):"FindTranslation"===i.mode||"FindAudio"===i.mode?(0,r.uniq)((0,r.shuffle)((0,r.flatMap)(e,(e=>(0,r.shuffle)(e.translations).slice(0,1))))):[]}));function h(e){let a=!1;d(e)&&p.value===e&&(w.value++,a=!0),v(e)&&p.value.translations.includes(e)&&(w.value++,a=!0),l("answer",e,a)}return a({correctAnswersCount:w,answers:g,question:f,currentWord:p}),(e,a)=>((0,n.wg)(),(0,n.j4)(u.Z,{class:"find-answer",title:f.value},{title:(0,n.w5)((()=>["audio"!==f.value?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)((0,n.zw)(f.value),1)],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[p.value.audio_url?((0,n.wg)(),(0,n.j4)(t.Z,{key:0,url:p.value.audio_url},null,8,["url"])):(0,n.kq)("",!0)],64))])),default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(g.value,(e=>((0,n.wg)(),(0,n.j4)(s.Z,{class:"find-answer__btn full-width",label:(0,n.SU)(d)(e)?e.word:e.translation,onClick:a=>h(e)},null,8,["label","onClick"])))),256))])),_:1},8,["title"]))}});const m=w;var p=m,f=l(1032),g=l(8832),h=(0,n.aZ)({__name:"TrueFalse",props:{words:{},cursor:{}},emits:["answer"],setup(e,{expose:a,emit:l}){const t=e,i=(0,o.o)(),d=(0,n.Fl)((()=>i.getTranslations(t.words))),c=(0,n.Fl)((()=>w.value[t.cursor])),v=(0,n.Fl)((()=>w.value.filter((e=>e.answer===e.isRight)).length)),w=(0,n.iH)(t.words.reduce(((e,a)=>{const l=Math.random()<=.5?.4:.6,n=Math.random()<=l,t=n?(0,r.sample)(a.translations.map((e=>e.translation))):(0,r.sample)(d.value);return e.push({word:a.word,supposedTranslation:t,isRight:n,answer:null}),e}),[]));function m(e){let a=e===c.value.isRight;c.value.answer=e,l("answer",a)}return a({mapItem:c,rightCount:v}),(e,a)=>{const l=(0,n.up)("q-btn-group");return(0,n.wg)(),(0,n.j4)(u.Z,{class:"true-false-card",title:c.value.word},{default:(0,n.w5)((()=>[(0,n.Wm)(u.Z,{class:"true-false-card__supposed-translation card_inset text-center"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(c.value.supposedTranslation),1)])),_:1}),(0,n.Wm)(l,{class:"btn-group full-width",push:""},{default:(0,n.w5)((()=>[(0,n.Wm)(s.Z,{class:"full-width",label:"True",onClick:a[0]||(a[0]=e=>m(!0))}),(0,n.Wm)(s.Z,{class:"full-width",label:"False",onClick:a[1]||(a[1]=e=>m(!1))})])),_:1})])),_:1},8,["title"])}}}),_=l(7236),k=l(9984),b=l.n(k);const F=h;var y=F;b()(h,"components",{QBtnGroup:_.Z});var Z=(0,n.aZ)({__name:"WordAnswerVerifier",props:{cursor:{},history:{}},emits:["next"],setup(e,{emit:a}){const l=e,r=(0,n.Fl)((()=>l.history[l.cursor])),o=(0,n.Fl)((()=>"title"in r.value&&"items"in r.value)),i=(0,n.Fl)((()=>"title"in r.value?r.value.title:r.value.word));return(e,c)=>{const v=(0,n.up)("q-btn-group");return(0,n.wg)(),(0,n.j4)(u.Z,{title:i.value,bodyClasses:{column:!0}},{title:(0,n.w5)((()=>["audio"===i.value&&"question"in r.value&&r.value.question.audio_url?((0,n.wg)(),(0,n.j4)(t.Z,{key:0,url:r.value.question.audio_url},null,8,["url"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)((0,n.zw)(i.value),1)],64))])),default:(0,n.w5)((()=>[o.value?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(r.value.items,(e=>((0,n.wg)(),(0,n.j4)(s.Z,{class:"full-width q-mb-md",label:(0,n.SU)(d)(e)?e.word:e.translation,color:e.clicked&&e.correct?"positive":e.clicked&&!e.correct?"negative":void 0,disable:""},null,8,["label","color"])))),256)):"supposedTranslation"in r.value?((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Wm)(u.Z,{class:"true-false-card__supposed-translation card_inset text-center"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,n.zw)(r.value.supposedTranslation),1)])),_:1}),(0,n.Wm)(v,{class:"btn-group full-width",push:""},{default:(0,n.w5)((()=>[(0,n.Wm)(s.Z,{class:"full-width",label:"True",color:r.value.answer?r.value.isRight?"positive":"negative":void 0,disable:""},null,8,["color"]),(0,n.Wm)(s.Z,{class:"full-width",label:"False",color:r.value.answer?void 0:r.value.isRight?"negative":"positive",disable:""},null,8,["color"])])),_:1})],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:2},[(0,n.Uk)("Unkhown test type")],64)),(0,n.Wm)(s.Z,{class:"full-width q-mt-auto",label:e.cursor>=l.history.length-1?"Go back":"Next",onClick:c[0]||(c[0]=e=>a("next"))},null,8,["label"])])),_:1},8,["title"])}}});const W=Z;var H=W;b()(Z,"components",{QBtnGroup:_.Z});var j=l(796),x=l(9811),T=l(8339),q=(0,n.aZ)({__name:"WordTestPage",setup(e){const a=(0,T.yj)(),l=(0,o.o)(),t=(0,x.z)(),s=a.params["section"],i=a.params["subsection"],d=(0,n.iH)((0,j.Z)()),c=(0,n.iH)(0),v=(0,n.iH)(0),w=(0,n.iH)("mixed"===a.params.mode||"limited-mixed"===a.params.mode?(0,r.sample)(["find-a-word","find-a-translation","true-false"]):a.params.mode),m=(0,n.iH)([]),h=(0,n.iH)(),_=(0,n.iH)(),k=(0,n.iH)(!1),b=(0,n.Fl)((()=>l.getSubsection(+s,+i))),F=(0,n.Fl)((()=>c.value>=W.value.length)),Z=(0,n.Fl)((()=>c.value===W.value.length?100:100*c.value/W.value.length)),W=(0,n.Fl)((()=>(d.value,"limited-mixed"===a.params.mode?(0,r.shuffle)(b.value.words).slice(0,20):"find-an-audio"===a.params.mode?(0,r.shuffle)(b.value.words.filter((e=>!!e.audio_url))):(0,r.shuffle)(b.value.words))));function q(e,a){var l;(null===(l=h.value)||void 0===l?void 0:l.answers)&&m.value.push({title:h.value.question,items:h.value.answers.map((l=>l.id===e.id?Object.assign(Object.assign({},l),{clicked:!0,correct:a}):l)),question:h.value.currentWord}),U(a)}function C(e){var a;(null===(a=_.value)||void 0===a?void 0:a.mapItem)&&m.value.push(_.value.mapItem),U(e)}function U(e){e&&v.value++,c.value>W.value.length-1||(c.value++,F.value&&t.saveWordItem(l.getSubsectionNumber(b.value)||"?",W.value.length,W.value.length-v.value,{"find-a-word":"FindWord","find-a-translation":"FindTranslation","true-false":"TrueFalse",mixed:"Mixed","limited-mixed":"Test","find-an-audio":"Audio"}[a.params.mode]))}function Y(){c.value<m.value.length-1||(k.value=!1),c.value++}function A(){c.value=0,v.value=0,d.value=(0,j.Z)(),m.value=[]}function D(){c.value=0,k.value=!0}return(0,n.YP)(c,(()=>{"mixed"!==a.params.mode&&"limited-mixed"!==a.params.mode||(w.value=(0,r.sample)(["find-a-word","find-a-translation","true-false"]))}),{immediate:!0}),(e,l)=>{const t=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(t,{class:"page page_column column justify-center",padding:""},{default:(0,n.w5)((()=>[(0,n.Wm)(f.Z,{class:"page__progress-bar container",value:Z.value,showCaption:""},null,8,["value"]),k.value?((0,n.wg)(),(0,n.j4)(H,{key:0,class:"page__card container full-width",cursor:c.value,history:m.value,onNext:Y},null,8,["cursor","history"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[F.value?((0,n.wg)(),(0,n.j4)(g.Z,{key:1,class:"page__card container full-width",score:v.value,total:W.value.length,showGrade:"limited-mixed"===(0,n.SU)(a).params.mode,isShowErrorsBtnVisible:"",onSubmit:A,onShowErrors:D},null,8,["score","total","showGrade"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:0},["find-a-word"===w.value||"find-a-translation"===w.value||"find-an-audio"===w.value?((0,n.wg)(),(0,n.j4)(p,{key:0,class:"page__card container full-width",ref_key:"findAnswerComponent",ref:h,cursor:c.value,words:W.value,mode:"find-a-word"===w.value?"FindWord":"find-a-translation"===w.value?"FindTranslation":"FindAudio",onAnswer:q},null,8,["cursor","words","mode"])):"true-false"===w.value?((0,n.wg)(),(0,n.j4)(y,{key:1,class:"page__card container full-width",ref_key:"trueFalseComponent",ref:_,words:W.value,cursor:c.value,onAnswer:C},null,8,["words","cursor"])):((0,n.wg)(),(0,n.j4)(u.Z,{key:2,class:"page__card container full-width",title:"Unknown test"}))],64))],64))])),_:1})}}}),C=l(9885);const U=q;var Y=U;b()(q,"components",{QPage:C.Z})}}]);